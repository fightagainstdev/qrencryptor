"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{7679:function(e,t,r){r.r(t),r.d(t,{default:function(){return lt}});var n=r(5893),a=r(7294),i=r(1120),o=r(5152),s=r.n(o),c=r(2160),l=r(1268),u=r(2663),d=r(9525),p=r(7212),h=r(6856),f=r(282),x=r(5046),m=r(7155),y=r(2109),b=(0,i.Z)((function(e){return{topScrollPaper:{alignItems:"start",marginTop:"20vh"},topPaperScrollBody:{verticalAlign:"middle"}}})),_=function(){var e=b(),t=(0,a.useState)(!1),r=t[0],i=t[1];return(0,a.useEffect)((function(){var e=Math.round(Math.random()*Math.pow(36,12));localStorage.setItem("tabId",e),window.addEventListener("storage",(function(t){"tabId"==t.key&&localStorage.setItem("tab",localStorage.getItem("tabId")),"tab"==t.key&&localStorage.getItem("tabId")!==e&&i(!0)}),!1)}),[]),(0,n.jsxs)(u.Z,{maxWidth:"sm",fullWidth:!0,open:r,PaperProps:{elevation:0},classes:{scrollPaper:e.topScrollPaper,paperScrollBody:e.topPaperScrollBody},children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)(p.Z,{children:(0,n.jsxs)(x.Z,{severity:"warning",style:{fontSize:16},children:[(0,n.jsx)(m.Z,{style:{fontSize:20,marginBottom:15},children:(0,y.F)("multiple_tabs_alert")}),(0,y.F)("multiple_tabs_alert_notice_one"),(0,n.jsx)("br",{}),(0,y.F)("multiple_tabs_alert_notice_two"),(0,n.jsx)("br",{})]})})}),(0,n.jsx)(h.Z,{children:(0,n.jsx)(f.Z,{onClick:function(){i(!1)},color:"primary",children:(0,y.F)("understand")})})]})},v=s()((function(){return Promise.resolve().then(r.bind(r,1628))}),{loadableGenerated:{webpack:function(){return[1628]}},ssr:!1}),g=s()((function(){return r.e(125).then(r.bind(r,125))}),{loadableGenerated:{webpack:function(){return[125]}},ssr:!1}),j=(0,i.Z)((function(e){return{body:{backgroundColor:e.palette.alabaster.main,minHeight:"100vh",display:"flex",flexDirection:"column"}}})),Z=function(){var e=j();return(0,n.jsxs)("div",{className:e.body,children:[(0,n.jsx)(_,{}),(0,n.jsx)(v,{}),(0,n.jsx)(c.Z,{}),(0,n.jsx)(g,{}),(0,n.jsx)(l.Z,{})]})},k=r(1628),w=r(1163),F=r(5697),S=r.n(F),I=r(2543),C=r(5258),T=r(3832),B=r(7821),P=r(1423),A=r(4051),N=r.n(A),E=r(8523),R=r(8478),K=r(3341),O=r(5906),M=r(7197),W=r(7618),z=r(1749),L=r(5357),U=r(1594),Y=r(2876),D=r(9905),q=r(9895),G=r(2318),H=r(3426),V=r(5477),$=r(7083),J=r(9589),Q=r(7812),X=r(3950),ee=r(7239),te=r(6210),re=r(2267),ne=r(7879),ae=r(3099),ie=r(5685),oe=r(9985),se=r(8270),ce=r(7726),le=r(6081),ue=r(6037),de=r(366),pe=r(2822),he=r(998),fe=r(5757),xe=r(1860),me=r(8428);function ye(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,a)}function be(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){ye(i,n,a,o,s,"next",e)}function s(e){ye(i,n,a,o,s,"throw",e)}o(void 0)}))}}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_e(e,t,r[t])}))}return e}var ge,je,Ze,ke,we,Fe,Se,Ie,Ce=r(6869),Te=(0,i.Z)((function(e){return{root:{width:"100%"},offline:{fontSize:12,float:"right",color:e.palette.diamondBlack.main},stepper:{backgroundColor:"transparent"},stepIcon:{"&$activeStepIcon":{color:e.palette.emperor.main},"&$completedStepIcon":{color:e.palette.emperor.main}},activeStepIcon:{},completedStepIcon:{},button:_e({marginTop:e.spacing(1),marginRight:e.spacing(1),borderRadius:"8px",border:"none",color:e.palette.mineShaft.main,backgroundColor:e.palette.mercury.light,"&:hover":{backgroundColor:e.palette.mercury.main},transition:"background-color 0.2s ease-out"},"transition","color .01s"),browseButton:_e({padding:8,paddingLeft:15,paddingRight:15,textTransform:"none",borderRadius:"8px",border:"none",color:e.palette.mineShaft.main,backgroundColor:e.palette.alto.light,"&:hover":{backgroundColor:e.palette.alto.main},transition:"background-color 0.2s ease-out"},"transition","color .01s"),backButton:{marginTop:e.spacing(1),marginRight:e.spacing(1),borderRadius:"8px",backgroundColor:e.palette.mercury.main,transition:"color .01s"},nextButton:{marginTop:e.spacing(1),marginRight:e.spacing(1),borderRadius:"8px",backgroundColor:e.palette.primary.main,color:e.palette.white.main,"&:hover":{backgroundColor:e.palette.mineShaft.main},transition:"color .01s"},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3),boxShadow:"rgba(149, 157, 165, 0.4) 0px 8px 24px",borderRadius:"8px"},input:{display:"none"},fileArea:{padding:"20px",border:"5px dashed",borderColor:e.palette.gallery.main,borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",marginBottom:"10px"}}})),Be=function(){var e=Te(),t=(0,w.useRouter)(),r=t.query,i=(0,a.useState)(0),o=i[0],s=i[1],c=(0,a.useState)(),l=c[0],u=c[1],d=(0,a.useState)(!1),p=d[0],h=d[1],b=(0,a.useState)(),_=b[0],v=b[1],g=(0,a.useState)(!1),j=g[0],Z=g[1],k=(0,a.useState)(),F=k[0],S=k[1],I=(0,a.useState)(),C=I[0],T=I[1],B=(0,a.useState)(!1),P=B[0],A=B[1],ye=(0,a.useState)(!1),_e=ye[0],Be=ye[1],Pe=(0,a.useState)(!1),Ae=Pe[0],Ne=Pe[1],Ee=(0,a.useState)(!1),Re=Ee[0],Ke=Ee[1],Oe=(0,a.useState)(),Me=Oe[0],We=Oe[1],ze=(0,a.useState)(!1),Le=ze[0],Ue=ze[1],Ye=(0,a.useState)("secretKey")[0],De=(0,a.useState)(!1),qe=De[0],Ge=De[1],He=(0,a.useState)(),Ve=He[0],$e=He[1],Je=(0,a.useState)(!1),Qe=Je[0],Xe=Je[1],et=(0,a.useState)(),tt=et[0],rt=et[1],nt=(0,a.useState)(!1),at=nt[0],it=nt[1],ot=(0,E.uI)({onDrop:function(e){ft(e[0])},noClick:!0,noKeyboard:!0,disabled:0!==o}),st=ot.getRootProps,ct=ot.getInputProps,lt=ot.isDragActive,ut=function(){s((function(e){return e+1}))},dt=function(){s((function(e){return e-1})),Be(!1),Ne(!1),Ke(!1),Ue(!1)},pt=function(){Xe(!Qe)},ht=function(){var e=be(N().mark((function e(){var t,r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.ready;case 2:r=(t=Ce).to_base64(t.randombytes_buf(16),t.base64_variants.URLSAFE_NO_PADDING),v(r),Ue(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(e){e.size>O.Tb?(h(!0),u()):(u(e),h(!1))},xt=function(){var e=be(N().mark((function e(t,r,n){var a,i,o,c,l;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.ready;case 2:if(a=Ce,e.prev=3,i=a.crypto_scalarmult_base(a.from_base64(t)),i=a.to_base64(i),t!==r&&r!==i){e.next=10;break}return Ke(!0),We((0,y.F)("invalid_key_pair")),e.abrupt("return");case 10:if(a.from_base64(t).length===a.crypto_kx_SECRETKEYBYTES){e.next=13;break}return Ne(!0),e.abrupt("return");case 13:if(a.from_base64(r).length===a.crypto_kx_PUBLICKEYBYTES){e.next=16;break}return Be(!0),e.abrupt("return");case 16:if(!(o=a.crypto_kx_client_session_keys(a.crypto_scalarmult_base(a.from_base64(t)),a.from_base64(t),a.from_base64(r)))){e.next=21;break}c=[o.sharedRx,o.sharedTx],Se=c[0],Ie=c[1],"test"===n&&Se&&Ie&&s(2),"derive"===n&&Se&&Ie&&(l=a.crypto_secretstream_xchacha20poly1305_init_push(Ie),ke=l.state,we=l.header),e.next=24;break;case 21:return Ke(!0),We((0,y.F)("invalid_key_pair")),e.abrupt("return");case 24:e.next=31;break;case 26:return e.prev=26,e.t0=e.catch(3),Ke(!0),We((0,y.F)("invalid_keys_input")),e.abrupt("return");case 31:case"end":return e.stop()}}),e,null,[[3,26]])})));return function(t,r,n){return e.apply(this,arguments)}}(),mt=function(){var e=be(N().mark((function e(){var t,r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("secretKey"!==Ye){e.next=4;break}return e.next=3,yt(_);case 3:bt(l);case 4:if("publicKey"!==Ye){e.next=11;break}return"derive",t=C,r=F,e.next=10,xt(t,r,"derive");case 10:bt(l);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yt=function(){var e=be(N().mark((function e(t){var r,n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.ready;case 2:je=(r=Ce).randombytes_buf(r.crypto_pwhash_SALTBYTES),Ze=r.crypto_pwhash(r.crypto_secretstream_xchacha20poly1305_KEYBYTES,t,je,r.crypto_pwhash_OPSLIMIT_INTERACTIVE,r.crypto_pwhash_MEMLIMIT_INTERACTIVE,r.crypto_pwhash_ALG_ARGON2ID13),n=r.crypto_secretstream_xchacha20poly1305_init_push(Ze),ke=n.state,we=n.header;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=function(e){if("secretKey"===Ye){var t=new Uint8Array(O.g7.encode(O.J8.v2_symmetric));Ge(!0),(Fe=[]).push(t),Fe.push(je),Fe.push(we),e.slice(0,O.kr).arrayBuffer().then((function(t){var r=(ge=O.kr)>=e.size;_t(r,t,e)}))}if("publicKey"===Ye){var r=new Uint8Array(O.g7.encode(O.J8.v2_asymmetric));Ge(!0),(Fe=[]).push(r),Fe.push(we),e.slice(0,O.kr).arrayBuffer().then((function(t){var r=(ge=O.kr)>=e.size;_t(r,t,e)}))}},_t=function(){var e=be(N().mark((function e(t,r,n){var a,i,o;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.ready;case 2:a=Ce,i=t?a.crypto_secretstream_xchacha20poly1305_TAG_FINAL:a.crypto_secretstream_xchacha20poly1305_TAG_MESSAGE,o=a.crypto_secretstream_xchacha20poly1305_push(ke,new Uint8Array(r),null,i),Fe.push(new Uint8Array(o)),t&&gt(),t||vt(n);case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),vt=function(e){e.slice(ge,ge+O.kr).arrayBuffer().then((function(t){var r=(ge+=O.kr)>=e.size;_t(r,t,e)}))},gt=function(){Ge(!1),ut()},jt=function(){var e=be(N().mark((function e(){var t,r;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,W.V)(C);case 2:t=e.sent,r=window.location.origin+"/?tab=decryption&publicKey="+t,$e(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){"encryption"===r.tab&&r.publicKey&&(S(r.publicKey),it(!0),setEncryptionMethod("publicKey"))}),[r.publicKey,r.tab]),(0,n.jsxs)("div",ve({className:e.root},st(),{children:[(0,n.jsx)(X.Z,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:Qe,autoHideDuration:2e3,onClose:pt,children:(0,n.jsx)(x.Z,{severity:"success",children:tt})}),(0,n.jsx)(J.Z,{open:lt,style:{zIndex:10},children:(0,n.jsxs)(G.Z,{variant:"h2",gutterBottom:!0,style:{color:"#fff",textAlign:"center"},children:[(0,n.jsx)("img",{src:"/assets/images/logo2.png",width:"100",height:"100",alt:"hat.sh logo"}),(0,n.jsx)("br",{}),(0,y.F)("drop_file_enc")]})}),(0,n.jsx)(ue.Z,{in:at,style:{marginTop:5},children:(0,n.jsx)(x.Z,{severity:"success",action:(0,n.jsx)(Q.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){it(!1)},children:(0,n.jsx)(de.Z,{fontSize:"inherit"})}),children:(0,y.F)("recipient_key_loaded")})}),(0,n.jsxs)(L.Z,{activeStep:o,orientation:"vertical",className:e.stepper,children:[(0,n.jsxs)(U.Z,{children:[(0,n.jsx)(Y.Z,{StepIconProps:{classes:{root:e.stepIcon,active:e.activeStepIcon,completed:e.completedStepIcon}},children:(0,y.F)("choose_file_enc")}),(0,n.jsxs)(D.Z,{children:[(0,n.jsx)("div",{className:"wrapper p-3",id:"encFileWrapper",children:(0,n.jsxs)("div",{className:e.fileArea,id:"encFileArea",children:[(0,n.jsx)(q.Z,{elevation:0,style:{overflow:"auto",maxHeight:"280px",backgroundColor:"transparent"},children:(0,n.jsx)(pe.Z,{dense:!0,style:{display:"flex",flex:"1",flexWrap:"wrap",alignContent:"center",justifyContent:"center"},children:l?(0,n.jsxs)(he.Z,{style:{backgroundColor:"#ebebeb",borderRadius:"8px",padding:15},children:[(0,n.jsx)(fe.Z,{style:{width:"200px",minHeight:"50px",maxHeight:"50px",textAlign:"center"},primary:l.name,secondary:(0,M.t)(l.size)}),(0,n.jsx)(xe.Z,{children:(0,n.jsx)(Q.Z,{style:{marginTop:40},onClick:function(){return u()},edge:"end","aria-label":"delete",children:(0,n.jsx)(me.Z,{})})})]}):(0,y.F)("drag_drop")})}),(0,n.jsx)("input",ve({},ct(),{className:e.input,id:"enc-file",type:"file",onChange:function(e){return ft(e.target.files[0])}})),(0,n.jsxs)("label",{htmlFor:"enc-file",children:[(0,n.jsx)("br",{}),(0,n.jsx)(f.Z,{className:e.browseButton,component:"span",startIcon:(0,n.jsx)(ne.Z,{}),children:l?(0,y.F)("change_file"):(0,y.F)("browse_file")})]})]})}),(0,n.jsxs)("div",{className:e.actionsContainer,children:[(0,n.jsx)(f.Z,{fullWidth:!0,disabled:!l||p,variant:"contained",onClick:ut,className:"".concat(e.nextButton," nextBtnHs"),children:(0,y.F)("next")}),p&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(x.Z,{severity:"error",style:{marginTop:15},children:[(0,n.jsx)("strong",{children:(0,y.F)("file_too_big")})," ",(0,y.F)("choose_file_1gb")]})})]}),!p&&(0,n.jsx)(G.Z,{className:e.offline,children:(0,y.F)("offline_note")})]})]},1),(0,n.jsxs)(U.Z,{children:[(0,n.jsx)(Y.Z,{StepIconProps:{classes:{root:e.stepIcon,active:e.activeStepIcon,completed:e.completedStepIcon}},children:"secretKey"===Ye?(0,y.F)("enter_password_enc"):(0,y.F)("enter_keys_enc")}),(0,n.jsxs)(D.Z,{children:["secretKey"===Ye&&(0,n.jsx)(H.Z,{required:!0,error:!!Le,type:j?"text":"password",id:"outlined-required",label:(0,y.F)("required"),placeholder:(0,y.F)("password"),helperText:_?(0,n.jsx)($.ZP,{title:"".concat((0,y.F)("crackTimeEstimation")," ").concat((0,K.Z)(_)[1]),placement:"right",arrow:!0,children:(0,n.jsxs)("span",{children:[(0,y.F)("password_strength"),": ",(0,n.jsx)("strong",{children:(0,K.Z)(_)[0]})]})}):(0,y.F)("choose_strong_password"),variant:"outlined",value:_||"",onChange:function(e){return t=e.target.value,void v(t);var t},fullWidth:!0,InputProps:{endAdornment:(0,n.jsxs)(n.Fragment,{children:[_&&(0,n.jsx)($.ZP,{title:(0,y.F)("show_password"),placement:"left",children:(0,n.jsx)(Q.Z,{onClick:function(){return Z(!j)},children:j?(0,n.jsx)(oe.Z,{}):(0,n.jsx)(se.Z,{})})}),(0,n.jsx)($.ZP,{title:(0,y.F)("generate_password"),placement:"left",children:(0,n.jsx)(Q.Z,{onClick:ht,className:"generatePasswordBtn",children:(0,n.jsx)(ie.Z,{})})})]})}}),"publicKey"===Ye&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(H.Z,{required:!0,error:!!_e,label:_e?(0,y.F)("error"):(0,y.F)("recipient_public_key"),helperText:_e?(0,y.F)("wrong_public_key"):"",placeholder:(0,y.F)("enter_recipient_public_key"),variant:"outlined",value:F||"",onChange:function(e){return t=e.target.value,S(t),void Be(!1);var t},fullWidth:!0,style:{marginBottom:"15px"},InputProps:{endAdornment:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{accept:".public",className:e.input,id:"public-key-file",type:"file",onChange:function(e){return function(e){if(e&&e.size<=1e6){var t=new FileReader;t.readAsText(e),t.onload=function(){S(t.result)},Be(!1)}}(e.target.files[0])}}),(0,n.jsx)("label",{htmlFor:"public-key-file",children:(0,n.jsx)($.ZP,{title:(0,y.F)("load_public_key"),placement:"left",children:(0,n.jsx)(Q.Z,{"aria-label":(0,y.F)("load_public_key"),component:"span",children:(0,n.jsx)(ce.Z,{})})})})]})}}),(0,n.jsx)(H.Z,{type:P?"text":"password",required:!0,error:!!Ae,label:Ae?(0,y.F)("error"):(0,y.F)("your_private_key_enc"),helperText:Ae?(0,y.F)("wrong_private_key"):"",placeholder:(0,y.F)("enter_private_key_enc"),variant:"outlined",value:C||"",onChange:function(e){return t=e.target.value,T(t),void Ne(!1);var t},fullWidth:!0,style:{marginBottom:"15px"},InputProps:{endAdornment:(0,n.jsxs)(n.Fragment,{children:[C&&(0,n.jsx)($.ZP,{title:(0,y.F)("show_private_key"),placement:"left",children:(0,n.jsx)(Q.Z,{onClick:function(){return A(!P)},children:P?(0,n.jsx)(oe.Z,{}):(0,n.jsx)(se.Z,{})})}),(0,n.jsx)("input",{accept:".private",className:e.input,id:"private-key-file",type:"file",onChange:function(e){return function(e){if(e&&e.size<=1e6){var t=new FileReader;t.readAsText(e),t.onload=function(){T(t.result)},Ne(!1)}}(e.target.files[0])}}),(0,n.jsx)("label",{htmlFor:"private-key-file",children:(0,n.jsx)($.ZP,{title:(0,y.F)("load_private_key"),placement:"left",children:(0,n.jsx)(Q.Z,{"aria-label":(0,y.F)("load_private_key"),component:"span",children:(0,n.jsx)(ce.Z,{})})})})]})}}),(0,n.jsx)(R.Z,{})]}),(0,n.jsx)("div",{className:e.actionsContainer,style:{marginTop:15},children:(0,n.jsxs)("div",{children:[(0,n.jsxs)(z.Z,{container:!0,spacing:1,children:[(0,n.jsx)(z.Z,{item:!0,children:(0,n.jsx)(f.Z,{disabled:0===o,onClick:dt,className:e.backButton,fullWidth:!0,children:(0,y.F)("back")})}),(0,n.jsx)(z.Z,{item:!0,xs:!0,children:(0,n.jsx)(f.Z,{disabled:"secretKey"===Ye&&!_||"publicKey"===Ye&&(!F||!C),variant:"contained",onClick:function(){if("secretKey"===Ye&&(_.length>=12?s(2):Ue(!0)),"publicKey"===Ye){xt(C,F,"test")}},className:"".concat(e.nextButton," nextBtnHs"),fullWidth:!0,children:(0,y.F)("next")})})]}),(0,n.jsx)("br",{}),"publicKey"===Ye&&Re&&(0,n.jsx)(x.Z,{severity:"error",children:Me}),"secretKey"===Ye&&Le&&(0,n.jsx)(x.Z,{severity:"error",children:(0,y.F)("short_password")})]})})]})]},2),(0,n.jsxs)(U.Z,{children:[(0,n.jsx)(Y.Z,{StepIconProps:{classes:{root:e.stepIcon,active:e.activeStepIcon,completed:e.completedStepIcon}},children:(0,y.F)("encrypt_file")}),(0,n.jsxs)(D.Z,{children:[(0,n.jsxs)(x.Z,{severity:"success",icon:(0,n.jsx)(re.Z,{}),children:[(0,n.jsx)("strong",{children:l?l.name:""})," ",(0,y.F)("ready_to_download")]}),(0,n.jsxs)("div",{className:e.actionsContainer,children:[(0,n.jsxs)(z.Z,{container:!0,spacing:1,children:[(0,n.jsx)(z.Z,{item:!0,children:(0,n.jsx)(f.Z,{disabled:0===o||qe,onClick:dt,className:e.backButton,children:(0,y.F)("back")})}),(0,n.jsx)(z.Z,{item:!0,xs:!0,children:(0,n.jsx)(f.Z,{onClick:mt,disabled:qe||!_&&!F&&!C||!l,variant:"contained",className:"".concat(e.nextButton," nextBtnHs"),startIcon:qe?(0,n.jsx)(V.Z,{size:24,className:e.buttonProgress}):(0,n.jsx)(re.Z,{}),fullWidth:!0,children:qe?(0,y.F)("encrypting_file"):(0,y.F)("encrypt_file")})})]}),(0,n.jsx)("br",{}),qe&&(0,n.jsx)(x.Z,{variant:"outlined",severity:"info",children:(0,y.F)("page_close_alert_enc")})]})]})]},3)]}),3===o&&(0,n.jsxs)(q.Z,{elevation:1,className:e.resetContainer,children:[(0,n.jsxs)(x.Z,{variant:"outlined",severity:"success",style:{border:"none"},children:[(0,n.jsx)(m.Z,{children:(0,y.F)("success")}),(0,y.F)("success_encrypted"),"publicKey"===Ye&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:(0,y.F)("after_enc_note_one")}),(0,n.jsx)("li",{children:(0,y.F)("after_enc_note_two")})]})]})]}),(0,n.jsxs)(z.Z,{container:!0,spacing:1,children:[(0,n.jsx)(z.Z,{item:!0,xs:12,sm:12,children:(0,n.jsx)(f.Z,{onClick:function(){var e=l.name+".qr",t=new Blob(Fe),r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download=e,document.body.appendChild(r),r.click()},className:"".concat(e.nextButton," nextBtnHs"),variant:"contained",startIcon:(0,n.jsx)(ae.Z,{}),fullWidth:!0,style:{textTransform:"none"},children:(0,y.F)("download_file")})}),"secretKey"===Ye&&(0,n.jsx)(z.Z,{item:!0,xs:12,sm:6,children:(0,n.jsx)(f.Z,{onClick:function(){navigator.clipboard.writeText(_),rt((0,y.F)("password_copied")),pt()},className:e.button,startIcon:(0,n.jsx)(ee.Z,{}),fullWidth:!0,style:{textTransform:"none"},children:(0,y.F)("copy_password")})}),"publicKey"===Ye&&(0,n.jsx)(z.Z,{item:!0,xs:12,sm:6,children:(0,n.jsx)($.ZP,{title:"Create a link that has your public key",placement:"bottom",children:(0,n.jsx)(f.Z,{onClick:function(){return jt()},className:e.button,variant:"outlined",startIcon:(0,n.jsx)(le.Z,{}),fullWidth:!0,style:{textTransform:"none"},children:(0,y.F)("create_shareable_link")})})}),(0,n.jsx)(z.Z,{item:!0,xs:12,sm:6,children:(0,n.jsx)(f.Z,{onClick:function(){s(0),u(),v(),Ge(!1),S(),T(),Be(!1),Ne(!1),Ke(!1),Ue(!1),$e(),rt(),it(!1),null,Fe=null,ge=null,Se=null,Ie=null,t.replace(t.pathname)},className:e.button,startIcon:(0,n.jsx)(te.Z,{}),fullWidth:!0,style:{textTransform:"none"},children:(0,y.F)("encrypt_another_file")})}),"publicKey"===Ye&&Ve&&(0,n.jsx)(H.Z,{style:{marginTop:15},defaultValue:Ve,InputProps:{readOnly:!0,classes:{root:e.textFieldRoot,focused:e.textFieldFocused,notchedOutline:e.textFieldNotchedOutline},endAdornment:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)($.ZP,{title:(0,y.F)("copy_link"),placement:"left",children:(0,n.jsx)(Q.Z,{onClick:function(){navigator.clipboard.writeText(Ve),rt((0,y.F)("create_shareable_link_copied")),pt()},children:(0,n.jsx)(ee.Z,{})})})})},helperText:(0,y.F)("create_shareable_link_note"),variant:"outlined",fullWidth:!0})]})]})]}))},Pe=r(5990);function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ne(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,a)}function Ee(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var i=e.apply(t,r);function o(e){Ne(i,n,a,o,s,"next",e)}function s(e){Ne(i,n,a,o,s,"throw",e)}o(void 0)}))}}function Re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Re(e,t,r[t])}))}return e}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Me,We,ze,Le,Ue,Ye,De=r(6869),qe=(0,i.Z)((function(e){return{root:{width:"100%"},offline:{fontSize:12,float:"right",color:e.palette.diamondBlack.main},stepper:{backgroundColor:"transparent"},stepIcon:{"&$activeStepIcon":{color:e.palette.emperor.main},"&$completedStepIcon":{color:e.palette.emperor.main}},activeStepIcon:{},completedStepIcon:{},button:Re({marginTop:e.spacing(1),marginRight:e.spacing(1),borderRadius:"8px",border:"none",color:e.palette.mineShaft.main,backgroundColor:e.palette.mercury.light,"&:hover":{backgroundColor:e.palette.mercury.main},transition:"background-color 0.2s ease-out"},"transition","color .01s"),browseButton:Re({padding:8,paddingLeft:15,paddingRight:15,textTransform:"none",borderRadius:"8px",border:"none",color:e.palette.mineShaft.main,backgroundColor:e.palette.alto.light,"&:hover":{backgroundColor:e.palette.alto.main},transition:"background-color 0.2s ease-out"},"transition","color .01s"),backButton:{marginTop:e.spacing(1),marginRight:e.spacing(1),borderRadius:"8px",backgroundColor:e.palette.mercury.main,transition:"color .01s"},nextButton:{marginTop:e.spacing(1),marginRight:e.spacing(1),borderRadius:"8px",backgroundColor:e.palette.primary.main,color:e.palette.white.main,"&:hover":{backgroundColor:e.palette.mineShaft.main},transition:"color .01s"},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3),boxShadow:"rgba(149, 157, 165, 0.4) 0px 8px 24px",borderRadius:"8px"},input:{display:"none"},fileArea:{padding:"20px",border:"5px dashed",borderColor:e.palette.gallery.main,borderRadius:"14px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",marginBottom:"10px"}}})),Ge=function(){var e=qe(),t=(0,a.useState)(0),r=t[0],i=t[1],o=(0,w.useRouter)(),s=o.query,c=(0,a.useState)(),l=c[0],u=c[1],d=(0,a.useState)(!1),p=d[0],h=d[1],b=(0,a.useState)(),_=b[0],v=b[1],g=(0,a.useState)("secretKey"),j=g[0],Z=g[1],k=(0,a.useState)(),F=k[0],S=k[1],I=(0,a.useState)(),C=I[0],T=I[1],B=(0,a.useState)(!1),P=B[0],A=B[1],R=(0,a.useState)(!1),K=R[0],W=R[1],X=(0,a.useState)(!1),ee=X[0],re=X[1],ie=(0,a.useState)(!1),le=ie[0],ye=ie[1],be=(0,a.useState)(),_e=be[0],ve=be[1],ge=(0,a.useState)(!1),je=ge[0],Ze=ge[1],ke=(0,a.useState)(!1),we=ke[0],Fe=ke[1],Se=(0,a.useState)(!1),Ie=Se[0],Ce=Se[1],Te=(0,a.useState)(!1),Be=Te[0],Ae=Te[1],Ne=(0,a.useState)(!1),Re=Ne[0],Ge=Ne[1],He=(0,a.useState)(!1),Ve=He[0],$e=He[1],Je=(0,a.useState)(!1),Qe=Je[0],Xe=Je[1],et=(0,a.useState)(!1),tt=et[0],rt=et[1],nt=(0,a.useState)(!1),at=nt[0],it=nt[1],ot=(0,E.uI)({onDrop:function(e){ut(e[0])},noClick:!0,noKeyboard:!0,disabled:0!==r}),st=ot.getRootProps,ct=ot.getInputProps,lt=ot.isDragActive,ut=function(e){(Me=e).size>O.Tb?(h(!0),u()):(u(e),h(!1)),Fe(!1),Ce(!1)},dt=function(){var e=Ee(N().mark((function e(t,r,n,a){var i,o,s,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.ready;case 2:i=De;try{(o=i.crypto_kx_server_session_keys(i.crypto_scalarmult_base(i.from_base64(t)),i.from_base64(t),i.from_base64(r)))&&(s=[o.sharedRx,o.sharedTx],Ye=s[1],(Ue=s[0])&&Ye&&(c=i.crypto_secretstream_xchacha20poly1305_init_pull(new Uint8Array(n),Ue))&&($e(!1),Ge(!1),ft("publicKey",c)))}catch(a){ye(!0),ve((0,y.F)("invalid_keys_input")),$e(!1)}case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),pt=function(){var e=Ee(N().mark((function e(){var t,r,n,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.ready;case 2:t=De,"secretKey"===j&&(Ge(!0),Me=l,r=_,Promise.all([Me.slice(11,27).arrayBuffer(),Me.slice(27,51).arrayBuffer(),Me.slice(51,51+O.kr+t.crypto_secretstream_xchacha20poly1305_ABYTES).arrayBuffer()]).then((function(e){var n=Oe(e,3),a=n[0],i=n[1],o=n[2];ze=o;var s=new Uint8Array(a),c=new Uint8Array(i),l=t.crypto_pwhash(t.crypto_secretstream_xchacha20poly1305_KEYBYTES,r,s,t.crypto_pwhash_OPSLIMIT_INTERACTIVE,t.crypto_pwhash_MEMLIMIT_INTERACTIVE,t.crypto_pwhash_ALG_ARGON2ID13),u=t.crypto_secretstream_xchacha20poly1305_init_pull(c,l);u&&(t.crypto_secretstream_xchacha20poly1305_pull(u,new Uint8Array(ze))?(Ge(!1),ht(r,a,i)):(Ge(!1),Ae(!0)))}))),"publicKey"===j&&(ye(!1),re(!1),W(!1),$e(!0),Me=l,n=C,a=F,Promise.all([Me.slice(11,35).arrayBuffer(),Me.slice(35,35+O.kr+t.crypto_secretstream_xchacha20poly1305_ABYTES).arrayBuffer()]).then((function(e){var r=Oe(e,2),i=r[0],o=r[1];ze=o;var s=new Uint8Array(i);try{var c=t.crypto_scalarmult_base(t.from_base64(n));if(c=t.to_base64(c),n===a||a===c)return ye(!0),ve((0,y.F)("invalid_key_pair")),void $e(!1);if(t.from_base64(n).length!==t.crypto_kx_SECRETKEYBYTES)return re(!0),void $e(!1);if(t.from_base64(a).length!==t.crypto_kx_PUBLICKEYBYTES)return W(!0),void $e(!1);var l,u=t.crypto_kx_server_session_keys(t.crypto_scalarmult_base(t.from_base64(n)),t.from_base64(n),t.from_base64(a));if(u)if(l=[u.sharedRx,u.sharedTx],Ye=l[1],(Ue=l[0])&&Ye){var d=t.crypto_secretstream_xchacha20poly1305_init_pull(new Uint8Array(s),Ue);if(d)t.crypto_secretstream_xchacha20poly1305_pull(d,new Uint8Array(ze))?($e(!1),Ge(!1),dt(n,a,s,ze)):(W(!0),re(!0),$e(!1))}}catch(p){ye(!0),ve((0,y.F)("invalid_keys_input")),$e(!1)}})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=Ee(N().mark((function e(t,r,n){var a,i,o,s,c;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.ready;case 2:a=De,Me=l,i=new Uint8Array(r),o=new Uint8Array(n),s=a.crypto_pwhash(a.crypto_secretstream_xchacha20poly1305_KEYBYTES,t,i,a.crypto_pwhash_OPSLIMIT_INTERACTIVE,a.crypto_pwhash_MEMLIMIT_INTERACTIVE,a.crypto_pwhash_ALG_ARGON2ID13),(c=a.crypto_secretstream_xchacha20poly1305_init_pull(o,s))&&ft("secretKey",c);case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ft=function(e,t){var r;"secretKey"===e&&(r=51),"publicKey"===e&&(r=35),Xe(!0),Le=[],(Me=l).slice(r,r+O.kr+O.G0).arrayBuffer().then((function(e){var n=(We=r+O.kr+O.G0)>=Me.size;mt(n,e,t)}))},xt=function(e){(Me=l).slice(We,We+O.kr+O.G0).arrayBuffer().then((function(t){var r=(We+=O.kr+O.G0)>=Me.size;mt(r,t,e)}))},mt=function(){var e=Ee(N().mark((function e(t,r,n){var a,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De.ready;case 2:(a=De.crypto_secretstream_xchacha20poly1305_pull(n,new Uint8Array(r)))?(i=a.message,Le.push(new Uint8Array(i)),t&&yt(),t||xt(n)):(Ae(!0),Ge(!1));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),yt=function(){i((function(e){return e+1})),Xe(!1)};return(0,a.useEffect)((function(){"decryption"===s.tab&&s.publicKey&&(S(s.publicKey),it(!0),Z("publicKey"))}),[s.publicKey,s.tab]),(0,n.jsxs)("div",Ke({className:e.root},st(),{children:[(0,n.jsx)(J.Z,{open:lt,style:{zIndex:10},children:(0,n.jsxs)(G.Z,{variant:"h2",gutterBottom:!0,style:{color:"#fff",textAlign:"center"},children:[(0,n.jsx)("img",{src:"/assets/images/logo2.png",width:"100",height:"100",alt:"hat.sh logo"}),(0,n.jsx)("br",{}),(0,y.F)("drop_file_dec")]})}),(0,n.jsx)(ue.Z,{in:at,style:{marginTop:5},children:(0,n.jsx)(x.Z,{severity:"success",action:(0,n.jsx)(Q.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){it(!1)},children:(0,n.jsx)(de.Z,{fontSize:"inherit"})}),children:(0,y.F)("sender_key_loaded")})}),(0,n.jsxs)(L.Z,{activeStep:r,orientation:"vertical",className:e.stepper,children:[(0,n.jsxs)(U.Z,{children:[(0,n.jsx)(Y.Z,{StepIconProps:{classes:{root:e.stepIcon,active:e.activeStepIcon,completed:e.completedStepIcon}},children:(0,y.F)("choose_file_dec")}),(0,n.jsxs)(D.Z,{children:[(0,n.jsx)("div",{className:"wrapper p-3",id:"encFileWrapper",children:(0,n.jsxs)("div",{className:e.fileArea,id:"encFileArea",children:[(0,n.jsx)(q.Z,{elevation:0,style:{overflow:"auto",maxHeight:"280px",backgroundColor:"transparent"},children:(0,n.jsx)(pe.Z,{dense:!0,style:{display:"flex",flex:"1",flexWrap:"wrap",alignContent:"center",justifyContent:"center"},children:l?(0,n.jsxs)(he.Z,{style:{backgroundColor:"#ebebeb",borderRadius:"8px",padding:15},children:[(0,n.jsx)(fe.Z,{style:{width:"200px",minHeight:"50px",maxHeight:"50px",textAlign:"center"},primary:l.name,secondary:(0,M.t)(l.size)}),(0,n.jsx)(xe.Z,{children:(0,n.jsx)(Q.Z,{style:{marginTop:40},onClick:function(){return u(),Fe(!1),void Ce(!1)},edge:"end","aria-label":"delete",children:(0,n.jsx)(me.Z,{})})})]}):(0,y.F)("drag_drop")})}),(0,n.jsx)("input",Ke({},ct(),{className:e.input,id:"dec-file",type:"file",onChange:function(e){return ut(e.target.files[0])}})),(0,n.jsxs)("label",{htmlFor:"dec-file",children:[(0,n.jsx)("br",{}),(0,n.jsx)(f.Z,{className:e.browseButton,component:"span",startIcon:(0,n.jsx)(ne.Z,{}),children:l?(0,y.F)("change_file"):(0,y.F)("browse_file")})]})]})}),(0,n.jsxs)("div",{className:e.actionsContainer,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(f.Z,{disabled:je||!l,variant:"contained",onClick:function(){Ze(!0),Fe(!1),Ce(!1),Promise.all([Me.slice(0,11).arrayBuffer(),Me.slice(0,22).arrayBuffer()]).then((function(e){var t=Oe(e,2),r=t[0],n=t[1];O.xv.decode(r)===O.J8.v2_symmetric?(Z("secretKey"),i(1),Ze(!1)):O.xv.decode(r)===O.J8.v2_asymmetric?(Z("publicKey"),i(1),Ze(!1)):O.xv.decode(n)===O.J8.v1?(Ce(!0),Ze(!1)):(Fe(!0),Ze(!1))}))},className:"".concat(e.nextButton," nextBtnHs"),startIcon:je&&(0,n.jsx)(V.Z,{size:24,className:e.buttonProgress}),fullWidth:!0,children:je?(0,y.F)("checking_file"):(0,y.F)("next")}),p&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(x.Z,{severity:"error",style:{marginTop:15},children:[(0,n.jsx)("strong",{children:(0,y.F)("file_too_big")})," ",(0,y.F)("choose_file_1gb")]})})]}),we&&(0,n.jsx)(x.Z,{severity:"error",style:{marginTop:15},children:(0,y.F)("file_not_encrypted_corrupted")}),Ie&&(0,n.jsxs)(x.Z,{severity:"error",style:{marginTop:15},children:[(0,y.F)("old_version")," ",(0,n.jsx)("a",{href:"https://v1.hat.sh/",target:"_blank",rel:"noreferrer",children:"https://v1.hat.sh"})]})]}),!we&&!Ie&&!p&&(0,n.jsx)(G.Z,{className:e.offline,children:(0,y.F)("offline_note")})]})]},1),(0,n.jsxs)(U.Z,{children:[(0,n.jsx)(Y.Z,{StepIconProps:{classes:{root:e.stepIcon,active:e.activeStepIcon,completed:e.completedStepIcon}},children:"secretKey"===j?(0,y.F)("enter_password_dec"):(0,y.F)("enter_keys_dec")}),(0,n.jsxs)(D.Z,{children:["secretKey"===j&&(0,n.jsx)(H.Z,{required:!0,type:tt?"text":"password",error:!!Be,id:Be?"outlined-error-helper-text":"outlined-required",label:Be?(0,y.F)("error"):(0,y.F)("required"),helperText:Be?(0,y.F)("wrong_password"):"",placeholder:(0,y.F)("password"),variant:"outlined",value:_||"",onChange:function(e){return t=e.target.value,v(t),void Ae(!1);var t},fullWidth:!0,InputProps:{endAdornment:(0,n.jsx)($.ZP,{title:(0,y.F)("show_password"),placement:"left",children:(0,n.jsx)(Q.Z,{onClick:function(){return rt(!tt)},children:tt?(0,n.jsx)(oe.Z,{}):(0,n.jsx)(se.Z,{})})})}}),"publicKey"===j&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(H.Z,{required:!0,error:!(!K&&!le),helperText:K?(0,y.F)("wrong_public_key"):"",label:(0,y.F)("sender_public_key"),placeholder:(0,y.F)("enter_sender_public_key"),variant:"outlined",value:F||"",onChange:function(e){return t=e.target.value,S(t),void W(!1);var t},fullWidth:!0,style:{marginBottom:"15px"},InputProps:{endAdornment:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{accept:".public",className:e.input,id:"dec-public-key-file",type:"file",onChange:function(e){return function(e){if(e&&e.size<=1e6){var t=new FileReader;t.readAsText(e),t.onload=function(){S(t.result)}}}(e.target.files[0])}}),(0,n.jsx)("label",{htmlFor:"dec-public-key-file",children:(0,n.jsx)($.ZP,{title:(0,y.F)("load_public_key"),placement:"left",children:(0,n.jsx)(Q.Z,{"aria-label":(0,y.F)("load_public_key"),component:"span",children:(0,n.jsx)(ce.Z,{})})})})]})}}),(0,n.jsx)(H.Z,{type:P?"text":"password",required:!0,error:!(!ee&&!le),helperText:ee?(0,y.F)("wrong_private_key"):"",label:(0,y.F)("your_private_key_dec"),placeholder:(0,y.F)("enter_private_key_dec"),variant:"outlined",value:C||"",onChange:function(e){return t=e.target.value,T(t),void re(!1);var t},fullWidth:!0,style:{marginBottom:"15px"},InputProps:{endAdornment:(0,n.jsxs)(n.Fragment,{children:[C&&(0,n.jsx)($.ZP,{title:(0,y.F)("show_private_key"),placement:"left",children:(0,n.jsx)(Q.Z,{onClick:function(){return A(!P)},children:P?(0,n.jsx)(oe.Z,{}):(0,n.jsx)(se.Z,{})})}),(0,n.jsx)("input",{accept:".private",className:e.input,id:"dec-private-key-file",type:"file",onChange:function(e){return function(e){if(e&&e.size<=1e6){var t=new FileReader;t.readAsText(e),t.onload=function(){T(t.result)}}}(e.target.files[0])}}),(0,n.jsx)("label",{htmlFor:"dec-private-key-file",children:(0,n.jsx)($.ZP,{title:(0,y.F)("load_private_key"),placement:"left",children:(0,n.jsx)(Q.Z,{"aria-label":(0,y.F)("load_private_key"),component:"span",children:(0,n.jsx)(ce.Z,{})})})})]})}})]}),(0,n.jsx)("div",{className:e.actionsContainer,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)(z.Z,{container:!0,spacing:1,children:[(0,n.jsx)(z.Z,{item:!0,children:(0,n.jsx)(f.Z,{disabled:0===r||Re||Ve||Qe,onClick:function(){i((function(e){return e-1})),Ae(!1),W(!1),re(!1),ye(!1),$e(!1),Ge(!1),Xe(!1)},className:e.backButton,fullWidth:!0,children:(0,y.F)("back")})}),(0,n.jsx)(z.Z,{item:!0,xs:!0,children:(0,n.jsx)(f.Z,{disabled:"secretKey"===j&&!_||"publicKey"===j&&(!F||!C)||Re||Ve||Qe,variant:"contained",onClick:pt,className:"".concat(e.nextButton," nextBtnHs"),startIcon:(Re||Qe)&&(0,n.jsx)(V.Z,{size:24,className:e.buttonProgress}),fullWidth:!0,children:Re?(0,y.F)("testing_password"):Ve?(0,y.F)("testing_keys"):Qe?(0,y.F)("decrypting_file"):(0,y.F)("next")})})]}),(0,n.jsx)("br",{}),"publicKey"===j&&le&&(0,n.jsx)(x.Z,{severity:"error",children:_e}),Qe&&(0,n.jsx)(x.Z,{variant:"outlined",severity:"info",children:(0,y.F)("page_close_alert_dec")})]})})]})]},2),(0,n.jsx)(U.Z,{children:(0,n.jsx)(Y.Z,{StepIconProps:{classes:{root:e.stepIcon,active:e.activeStepIcon,completed:e.completedStepIcon}},children:(0,y.F)("download_decrypted_file")})},3)]}),2===r&&(0,n.jsxs)(q.Z,{elevation:1,className:e.resetContainer,children:[(0,n.jsxs)(x.Z,{variant:"outlined",severity:"success",style:{border:"none"},children:[(0,n.jsx)(m.Z,{children:(0,y.F)("success")}),(0,y.F)("success_decrypted")]}),(0,n.jsxs)(z.Z,{container:!0,spacing:1,style:{marginTop:5},children:[(0,n.jsx)(z.Z,{item:!0,xs:12,children:(0,n.jsx)(f.Z,{onClick:function(){var e=(0,Pe.K)(l.name),t=new Blob(Le),r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.download=e,document.body.appendChild(r),r.click()},color:"primary",className:"".concat(e.nextButton," nextBtnHs"),variant:"contained",startIcon:(0,n.jsx)(ae.Z,{}),fullWidth:!0,style:{textTransform:"none"},children:(0,y.F)("download_file")})}),(0,n.jsx)(z.Z,{item:!0,xs:12,children:(0,n.jsx)(f.Z,{onClick:function(){i(0),u(),v(),Ae(!1),Fe(!1),Ce(!1),S(),T(),W(!1),re(!1),ye(!1),it(!1),Me=null,We=null,Ue=null,Ye=null,o.replace(o.pathname)},className:e.button,variant:"outlined",startIcon:(0,n.jsx)(te.Z,{}),fullWidth:!0,style:{textTransform:"none"},children:(0,y.F)("decrypt_another_file")})})]})]})]}))},He=function(){var e=(0,a.useState)(!0),t=e[0],r=e[1],i=(0,a.useState)(),o=i[0],s=i[1];return(0,a.useEffect)((function(){var e=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);s(e?"safari":t?"mobile":"other")}),[]),(0,n.jsx)(ue.Z,{in:t,style:{marginTop:5},children:(0,n.jsx)(x.Z,{severity:"info",action:(0,n.jsx)(Q.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){r(!1)},children:(0,n.jsx)(de.Z,{fontSize:"inherit"})}),children:"safari"===o?(0,y.F)("limited_safari"):"mobile"===o?(0,y.F)("limited_mobile"):(0,y.F)("limited_private")})})};function Ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ve(e,t,r[t])}))}return e}function Je(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Qe=(0,I.Z)({indicator:{display:"none"}})((function(e){return(0,n.jsx)(B.Z,$e({},e,{TabIndicatorProps:{children:(0,n.jsx)("span",{})}}))})),Xe=(0,I.Z)((function(e){return{root:{textTransform:"none",padding:"8px",transition:"background-color 0.2s ease-out","&$selected":{backgroundColor:e.palette.white.main,boxShadow:"rgba(149, 157, 165, 0.2) 0px 8px 24px",borderRadius:"8px"}},selected:{}}}))((function(e){return(0,n.jsx)(P.Z,$e({disableRipple:!0},e))})),et=(0,i.Z)((function(e){return{root:{maxWidth:"768px"},bar:{marginTop:15,backgroundColor:e.palette.gallery.main,borderRadius:"8px",padding:8},TabPanel:{marginTop:15},tab:{color:e.palette.emperor.main}}}));function tt(e){var t=e.children,r=e.value,a=e.index,i=Je(e,["children","value","index"]);return(0,n.jsx)("div",$e({role:"tabpanel",hidden:r!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},i,{children:t}))}function rt(){var e=et(),t=(0,w.useRouter)(),r=t.query,i=(0,a.useState)(0),o=i[0],s=i[1],c={tab:0,label:(0,y.F)("encryption")},l={tab:1,label:(0,y.F)("decryption")};return(0,a.useEffect)((function(){r.tab&&"encryption"===r.tab&&s(c.tab),r.tab&&"decryption"===r.tab&&s(l.tab)}),[l.tab,c.tab,r.tab]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(T.Z,{className:e.root,children:[(0,n.jsx)(He,{}),(0,n.jsx)(C.Z,{position:"static",className:e.bar,elevation:0,children:(0,n.jsxs)(Qe,{value:o,onChange:function(e,r){s(r),t.replace(t.pathname)},variant:"fullWidth",centered:!0,children:[(0,n.jsx)(Xe,{label:c.label,className:e.tab}),(0,n.jsx)(Xe,{label:l.label,className:e.tab})]})}),(0,n.jsx)(tt,{value:o,index:c.tab,className:e.TabPanel,children:(0,n.jsx)(Be,{})}),(0,n.jsx)(tt,{value:o,index:l.tab,className:e.TabPanel,children:(0,n.jsx)(Ge,{})})]})})}tt.propTypes={children:S().node,index:S().any.isRequired,value:S().any.isRequired};var nt=(0,i.Z)((function(e){return{body:{backgroundColor:e.palette.alabaster.main,minHeight:"100vh",display:"flex",flexDirection:"column"}}})),at=function(){var e=nt();return(0,n.jsxs)("div",{className:e.body,children:[(0,n.jsx)(k.default,{}),(0,n.jsx)(c.Z,{}),(0,n.jsx)(rt,{}),(0,n.jsx)(l.Z,{})]})},it=r(3457),ot=r(205),st=(0,i.Z)((function(e){return{backDrop:{backgroundColor:e.palette.alabaster.main,opacity:"96%",zIndex:10,color:e.palette.mineShaft.main},loadingWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},circle:{position:"absolute",width:250,height:250,border:"4px dashed",borderRadius:"50%",animation:"$spin 5s linear infinite"},loadingImg:{position:"absolute",width:150,animation:"$bounce 1.5s linear infinite"},loadingText:{position:"absolute",bottom:"15%"},"@keyframes spin":{"100%":{transform:"rotateZ(360deg)"}},"@keyframes bounce":{"0%":{transform:"translateY(0)"},"50%":{transform:"translateY(-10px)"},"100%":{transform:"translateY(0)"}}}})),ct=function(e){var t=st();return(0,n.jsx)(J.Z,{className:t.backDrop,open:e.open,children:(0,n.jsxs)("div",{className:t.loadingWrapper,children:[(0,n.jsx)("div",{className:t.circle}),(0,n.jsx)("img",{className:t.loadingImg,src:"/assets/images/logo.png",alt:"Loading..."}),(0,n.jsx)("samp",{className:t.loadingText,children:"Loading..."})]})})},lt=function(){var e=(0,a.useState)(),t=e[0],r=e[1],i=(0,a.useState)(),o=i[0],s=i[1],c=(0,a.useState)(!0),l=c[0],u=c[1];return(0,a.useEffect)((function(){var e=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);s(!e&&!t),"serviceWorker"in navigator?navigator.serviceWorker.register("service-worker.js").then((function(e){e.update(),r(!0),u(!1)})).catch((function(e){console.log("ServiceWorker registration failed",e),r(!1),u(!1)})):(r(!1),u(!1))}),[]),(0,n.jsxs)(it.Z,{theme:ot.Q2,children:[(0,n.jsx)(ct,{open:l}),!l&&(t&&o?(0,n.jsx)(Z,{}):(0,n.jsx)(at,{}))]})}},7197:function(e,t,r){r.d(t,{t:function(){return n}});var n=function(e,t){if(0==e)return"0 Bytes";var r=t||2,n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}},5990:function(e,t,r){r.d(t,{K:function(){return n}});var n=function(e){return e.replace(".qr","").replace(/ *\([^)]*\) */g,"")}},7618:function(e,t,r){r.d(t,{V:function(){return s}});var n=r(4051),a=r.n(n);function i(e,t,r,n,a,i,o){try{var s=e[i](o),c=s.value}catch(l){return void r(l)}s.done?t(c):Promise.resolve(c).then(n,a)}var o=r(6869),s=function(){var e,t=(e=a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.ready;case 2:return n=(r=o).crypto_scalarmult_base(r.from_base64(t)),e.abrupt("return",r.to_base64(n));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function s(e){i(o,n,a,s,c,"next",e)}function c(e){i(o,n,a,s,c,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()},3341:function(e,t,r){var n=r(1322),a=r.n(n),i=r(2109),o=3600,s=86400,c=31*s,l=32140800,u={0:(0,i.F)("very_weak"),1:(0,i.F)("weak"),2:(0,i.F)("moderate"),3:(0,i.F)("good"),4:(0,i.F)("strong")};t.Z=function(e){var t=a()(e),r=t.score,n=function(e){var t;return(e<1?[null,"".concat((0,i.F)("less_second"))]:e<60?[t=Math.round(e),t+" ".concat((0,i.F)("seconds"))]:e<o?[t=Math.round(e/60),t+" ".concat((0,i.F)("minutes"))]:e<s?[t=Math.round(e/o),t+" ".concat((0,i.F)("hours"))]:e<c?[t=Math.round(e/s),t+" ".concat((0,i.F)("days"))]:e<l?[t=Math.round(e/c),t+" ".concat((0,i.F)("months"))]:e<321408e4?[t=Math.round(e/l),t+" ".concat((0,i.F)("years"))]:[null,(0,i.F)("centuries")])[1]}(t.crack_times_seconds.offline_slow_hashing_1e4_per_second);return[u[r],n]}}}]);