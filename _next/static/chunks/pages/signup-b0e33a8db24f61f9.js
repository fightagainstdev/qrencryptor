(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{9659:function(e,n,r){"use strict";var t=r(7462),a=r(5987),i=r(7294),o=r(6010),s=r(3871),u=r(2543),l=r(4896),c=r(3834),d=r(2318),p=i.forwardRef((function(e,n){var r=e.classes,u=e.className,p=e.color,m=void 0===p?"primary":p,f=e.component,v=void 0===f?"a":f,b=e.onBlur,h=e.onFocus,g=e.TypographyClasses,x=e.underline,w=void 0===x?"hover":x,y=e.variant,Z=void 0===y?"inherit":y,k=(0,a.Z)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),C=(0,l.Z)(),S=C.isFocusVisible,I=C.onBlurVisible,N=C.ref,_=i.useState(!1),j=_[0],F=_[1],P=(0,c.Z)(n,N);return i.createElement(d.Z,(0,t.Z)({className:(0,o.Z)(r.root,r["underline".concat((0,s.Z)(w))],u,j&&r.focusVisible,"button"===v&&r.button),classes:g,color:m,component:v,onBlur:function(e){j&&(I(),F(!1)),b&&b(e)},onFocus:function(e){S(e)&&F(!0),h&&h(e)},ref:P,variant:Z},k))}));n.Z=(0,u.Z)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(p)},1163:function(e,n,r){e.exports=r(880)},2755:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return r(5724)}])},5724:function(e,n,r){"use strict";r.r(n);var t=r(4051),a=r.n(t),i=r(5893),o=r(7294),s=r(1163),u=r(5876),l=r(9828),c=r(20),d=r(3832),p=r(2318),m=r(3426),f=r(282),v=r(9659),b=r(5046);function h(e,n,r,t,a,i,o){try{var s=e[i](o),u=s.value}catch(l){return void r(l)}s.done?n(u):Promise.resolve(u).then(t,a)}var g=(0,r(1120).Z)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:e.spacing(8)},form:{width:"100%",maxWidth:400},submit:{margin:e.spacing(3,0,2)}}}));n.default=function(){var e=g(),n=(0,s.useRouter)(),r=(0,o.useState)(""),t=r[0],x=r[1],w=(0,o.useState)(""),y=w[0],Z=w[1],k=(0,o.useState)(""),C=k[0],S=k[1],I=(0,o.useState)(""),N=I[0],_=I[1],j=(0,o.useState)(!1),F=j[0],P=j[1],W=function(){var e,r=(e=a().mark((function e(r){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),t&&y&&C){e.next=4;break}return _("Please fill in all fields"),e.abrupt("return");case 4:if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){e.next=8;break}return _("Please enter a valid email"),e.abrupt("return");case 8:if(/^[a-zA-Z0-9]{3,20}$/.test(y)){e.next=12;break}return _("Username must be 3-20 alphanumeric characters"),e.abrupt("return");case 12:if(!(C.length<6)){e.next=15;break}return _("Password must be at least 6 characters"),e.abrupt("return");case 15:return P(!0),_(""),e.prev=17,i=(0,l.IO)((0,l.hJ)(c.db,"users"),(0,l.ar)("username","==",y)),e.next=21,(0,l.PL)(i);case 21:if(e.sent.empty){e.next=25;break}return _("Username already exists"),e.abrupt("return");case 25:return e.next=27,(0,u.Xb)(c.I,t,C);case 27:return o=e.sent,s=o.user,e.next=31,(0,l.pl)((0,l.JU)(c.db,"users",s.uid),{username:y,email:t,createdAt:new Date});case 31:n.push("/"),e.next=37;break;case 34:e.prev=34,e.t0=e.catch(17),_(e.t0.message);case 37:return e.prev=37,P(!1),e.finish(37);case 40:case"end":return e.stop()}}),e,null,[[17,34,37,40]])})),function(){var n=this,r=arguments;return new Promise((function(t,a){var i=e.apply(n,r);function o(e){h(i,t,a,o,s,"next",e)}function s(e){h(i,t,a,o,s,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,i.jsxs)(d.Z,{component:"main",maxWidth:"xs",className:e.container,children:[(0,i.jsx)(p.Z,{component:"h1",variant:"h5",children:"Sign Up"}),(0,i.jsxs)("form",{className:e.form,onSubmit:W,children:[(0,i.jsx)(m.Z,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:t,onChange:function(e){return x(e.target.value)}}),(0,i.jsx)(m.Z,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",value:y,onChange:function(e){return Z(e.target.value)}}),(0,i.jsx)(m.Z,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:C,onChange:function(e){return S(e.target.value)}}),N&&(0,i.jsx)(b.Z,{severity:"error",children:N}),(0,i.jsx)(f.Z,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:F,children:F?"Signing up...":"Sign Up"}),(0,i.jsx)(v.Z,{href:"/login",variant:"body2",children:"Already have an account? Log In"})]})]})}},20:function(e,n,r){"use strict";r.d(n,{I:function(){return a},db:function(){return i},t:function(){return o}});var t,a,i,o,s=r(3977),u=r(9828),l=r(5876),c=r(6689),d={apiKey:"AIzaSyCks5vci6I6vzi1uiaBW-BPkFltXCSwOMU",authDomain:"qrencryptor.firebaseapp.com",projectId:"qrencryptor",storageBucket:"qrencryptor.firebasestorage.app",messagingSenderId:"979193624185",appId:"1:979193624185:web:ba20f034adf35f2a1646a8",measurementId:"G-SWZ1TZSVVM"};console.log("Firebase Config:",d),console.log("Initializing Firebase app"),0===(0,s.C6)().length?(console.log("Creating new app"),t=(0,s.ZF)(d)):(console.log("App already exists"),t=(0,s.C6)()[0]),a=(0,l.v0)(t),i=(0,u.ad)(t),o=(0,c.cF)(t),console.log("db initialized:",i)}},function(e){e.O(0,[703,281,414,545,774,888,179],(function(){return n=2755,e(e.s=n);var n}));var n=e.O();_N_E=n}]);